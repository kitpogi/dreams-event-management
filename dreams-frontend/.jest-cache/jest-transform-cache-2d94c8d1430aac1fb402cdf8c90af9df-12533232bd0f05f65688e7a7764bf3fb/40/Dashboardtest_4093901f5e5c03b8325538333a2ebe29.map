{"version":3,"names":["_react","_interopRequireDefault","require","_react2","_userEvent","_testHelpers","_jsxRuntime","e","__esModule","default","describe","mockUser","createMockUser","role","mockBookings","createMockBooking","id","booking_status","it","global","fetch","jest","fn","Promise","resolve","ok","json","data","Dashboard","jsxs","children","jsx","map","booking","renderWithProviders","authState","isAuthenticated","user","expect","screen","getByText","toBeInTheDocument","getByTestId","userEvent","setup","DashboardWithTabs","activeTab","setActiveTab","React","useState","onClick","click","waitFor"],"sources":["Dashboard.test.jsx"],"sourcesContent":["import React from 'react';\r\nimport { render, screen, waitFor } from '@testing-library/react';\r\nimport userEvent from '@testing-library/user-event';\r\nimport { renderWithProviders, createMockUser, createMockBooking } from '../../test-utils/testHelpers';\r\n\r\n/**\r\n * Integration test for Dashboard components\r\n * Tests how multiple dashboard components work together\r\n */\r\ndescribe('Dashboard Integration', () => {\r\n  const mockUser = createMockUser({ role: 'client' });\r\n  const mockBookings = [\r\n    createMockBooking({ id: 1, booking_status: 'pending' }),\r\n    createMockBooking({ id: 2, booking_status: 'approved' }),\r\n  ];\r\n\r\n  it('displays dashboard with stats and bookings', async () => {\r\n    // Mock API response\r\n    global.fetch = jest.fn(() =>\r\n      Promise.resolve({\r\n        ok: true,\r\n        json: () => Promise.resolve({ data: mockBookings }),\r\n      })\r\n    );\r\n\r\n    // This would test the actual ClientDashboard component\r\n    // For now, showing the pattern\r\n    const Dashboard = () => {\r\n      return (\r\n        <div>\r\n          <h1>Dashboard</h1>\r\n          <div data-testid=\"stats\">\r\n            <div>Total: 2</div>\r\n            <div>Pending: 1</div>\r\n            <div>Approved: 1</div>\r\n          </div>\r\n          <div data-testid=\"bookings-list\">\r\n            {mockBookings.map(booking => (\r\n              <div key={booking.id}>{booking.booking_status}</div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      );\r\n    };\r\n\r\n    renderWithProviders(<Dashboard />, {\r\n      authState: { isAuthenticated: true, user: mockUser },\r\n    });\r\n\r\n    expect(screen.getByText('Dashboard')).toBeInTheDocument();\r\n    expect(screen.getByTestId('stats')).toBeInTheDocument();\r\n    expect(screen.getByTestId('bookings-list')).toBeInTheDocument();\r\n  });\r\n\r\n  it('switches between dashboard tabs', async () => {\r\n    const user = userEvent.setup();\r\n    \r\n    const DashboardWithTabs = () => {\r\n      const [activeTab, setActiveTab] = React.useState('list');\r\n      \r\n      return (\r\n        <div>\r\n          <button onClick={() => setActiveTab('list')}>List</button>\r\n          <button onClick={() => setActiveTab('calendar')}>Calendar</button>\r\n          <button onClick={() => setActiveTab('analytics')}>Analytics</button>\r\n          \r\n          {activeTab === 'list' && <div>List View</div>}\r\n          {activeTab === 'calendar' && <div>Calendar View</div>}\r\n          {activeTab === 'analytics' && <div>Analytics View</div>}\r\n        </div>\r\n      );\r\n    };\r\n\r\n    renderWithProviders(<DashboardWithTabs />, {\r\n      authState: { isAuthenticated: true, user: mockUser },\r\n    });\r\n\r\n    expect(screen.getByText('List View')).toBeInTheDocument();\r\n    \r\n    await user.click(screen.getByText('Calendar'));\r\n    await waitFor(() => {\r\n      expect(screen.getByText('Calendar View')).toBeInTheDocument();\r\n    });\r\n\r\n    await user.click(screen.getByText('Analytics'));\r\n    await waitFor(() => {\r\n      expect(screen.getByText('Analytics View')).toBeInTheDocument();\r\n    });\r\n  });\r\n});\r\n\r\n"],"mappings":"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","ignoreList":[]}