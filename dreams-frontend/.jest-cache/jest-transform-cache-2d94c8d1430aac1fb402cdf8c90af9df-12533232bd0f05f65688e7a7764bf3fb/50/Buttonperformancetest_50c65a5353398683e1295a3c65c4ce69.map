{"version":3,"names":["_react","require","_Button","_interopRequireDefault","_performanceHelpers","_jsxRuntime","e","__esModule","default","describe","it","renderTime","measureRenderTime","render","jsx","children","expect","toBeLessThan","rerender","performance","testRerenderPerformance","average","handleClick","jest","fn","result","time","measureExecutionTime","toHaveBeenCalled","initialMemory","memory","usedJSHeapSize","i","unmount","jsxs","global","gc","finalMemory","memoryIncrease"],"sources":["Button.performance.test.jsx"],"sourcesContent":["import { render, screen } from '@testing-library/react';\r\nimport Button from '../Button';\r\nimport {\r\n  measureRenderTime,\r\n  measureExecutionTime,\r\n  testRerenderPerformance,\r\n} from '../../../test-utils/performanceHelpers';\r\n\r\ndescribe('Button Performance', () => {\r\n  it('renders quickly', async () => {\r\n    const renderTime = await measureRenderTime(() => {\r\n      render(<Button>Test</Button>);\r\n    });\r\n    \r\n    // Button should render in less than 50ms\r\n    expect(renderTime).toBeLessThan(50);\r\n  });\r\n\r\n  it('handles multiple renders efficiently', async () => {\r\n    const { rerender } = render(<Button>Initial</Button>);\r\n    \r\n    const performance = await testRerenderPerformance(\r\n      { rerender },\r\n      <Button>Updated</Button>,\r\n      10\r\n    );\r\n    \r\n    // Average render time should be reasonable\r\n    expect(performance.average).toBeLessThan(20);\r\n  });\r\n\r\n  it('executes click handler quickly', () => {\r\n    const handleClick = jest.fn();\r\n    const { result, time } = measureExecutionTime(() => {\r\n      handleClick();\r\n    });\r\n    \r\n    expect(time).toBeLessThan(1); // Click should be nearly instant\r\n    expect(handleClick).toHaveBeenCalled();\r\n  });\r\n\r\n  it('does not cause memory leaks with multiple instances', () => {\r\n    const initialMemory = performance.memory?.usedJSHeapSize || 0;\r\n    \r\n    // Create and unmount multiple buttons\r\n    for (let i = 0; i < 100; i++) {\r\n      const { unmount } = render(<Button>Button {i}</Button>);\r\n      unmount();\r\n    }\r\n    \r\n    // Force garbage collection if available (not available in all environments)\r\n    if (global.gc) {\r\n      global.gc();\r\n    }\r\n    \r\n    // Memory should not have grown excessively\r\n    const finalMemory = performance.memory?.usedJSHeapSize || 0;\r\n    const memoryIncrease = finalMemory - initialMemory;\r\n    \r\n    // Allow some memory increase but not excessive\r\n    expect(memoryIncrease).toBeLessThan(10 * 1024 * 1024); // Less than 10MB\r\n  });\r\n});\r\n\r\n"],"mappings":";;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,mBAAA,GAAAH,OAAA;AAIgD,IAAAI,WAAA,GAAAJ,OAAA;AAAA,SAAAE,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEhDG,QAAQ,CAAC,oBAAoB,EAAE,MAAM;EACnCC,EAAE,CAAC,iBAAiB,EAAE,YAAY;IAChC,MAAMC,UAAU,GAAG,MAAM,IAAAC,qCAAiB,EAAC,MAAM;MAC/C,IAAAC,aAAM,eAAC,IAAAR,WAAA,CAAAS,GAAA,EAACZ,OAAA,CAAAM,OAAM;QAAAO,QAAA,EAAC;MAAI,CAAQ,CAAC,CAAC;IAC/B,CAAC,CAAC;;IAEF;IACAC,MAAM,CAACL,UAAU,CAAC,CAACM,YAAY,CAAC,EAAE,CAAC;EACrC,CAAC,CAAC;EAEFP,EAAE,CAAC,sCAAsC,EAAE,YAAY;IACrD,MAAM;MAAEQ;IAAS,CAAC,GAAG,IAAAL,aAAM,eAAC,IAAAR,WAAA,CAAAS,GAAA,EAACZ,OAAA,CAAAM,OAAM;MAAAO,QAAA,EAAC;IAAO,CAAQ,CAAC,CAAC;IAErD,MAAMI,WAAW,GAAG,MAAM,IAAAC,2CAAuB,EAC/C;MAAEF;IAAS,CAAC,eACZ,IAAAb,WAAA,CAAAS,GAAA,EAACZ,OAAA,CAAAM,OAAM;MAAAO,QAAA,EAAC;IAAO,CAAQ,CAAC,EACxB,EACF,CAAC;;IAED;IACAC,MAAM,CAACG,WAAW,CAACE,OAAO,CAAC,CAACJ,YAAY,CAAC,EAAE,CAAC;EAC9C,CAAC,CAAC;EAEFP,EAAE,CAAC,gCAAgC,EAAE,MAAM;IACzC,MAAMY,WAAW,GAAGC,IAAI,CAACC,EAAE,CAAC,CAAC;IAC7B,MAAM;MAAEC,MAAM;MAAEC;IAAK,CAAC,GAAG,IAAAC,wCAAoB,EAAC,MAAM;MAClDL,WAAW,CAAC,CAAC;IACf,CAAC,CAAC;IAEFN,MAAM,CAACU,IAAI,CAAC,CAACT,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9BD,MAAM,CAACM,WAAW,CAAC,CAACM,gBAAgB,CAAC,CAAC;EACxC,CAAC,CAAC;EAEFlB,EAAE,CAAC,qDAAqD,EAAE,MAAM;IAC9D,MAAMmB,aAAa,GAAGV,WAAW,CAACW,MAAM,EAAEC,cAAc,IAAI,CAAC;;IAE7D;IACA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,GAAG,EAAEA,CAAC,EAAE,EAAE;MAC5B,MAAM;QAAEC;MAAQ,CAAC,GAAG,IAAApB,aAAM,eAAC,IAAAR,WAAA,CAAA6B,IAAA,EAAChC,OAAA,CAAAM,OAAM;QAAAO,QAAA,GAAC,SAAO,EAACiB,CAAC;MAAA,CAAS,CAAC,CAAC;MACvDC,OAAO,CAAC,CAAC;IACX;;IAEA;IACA,IAAIE,MAAM,CAACC,EAAE,EAAE;MACbD,MAAM,CAACC,EAAE,CAAC,CAAC;IACb;;IAEA;IACA,MAAMC,WAAW,GAAGlB,WAAW,CAACW,MAAM,EAAEC,cAAc,IAAI,CAAC;IAC3D,MAAMO,cAAc,GAAGD,WAAW,GAAGR,aAAa;;IAElD;IACAb,MAAM,CAACsB,cAAc,CAAC,CAACrB,YAAY,CAAC,EAAE,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;EACzD,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}