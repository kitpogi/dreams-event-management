{"version":3,"names":["ensureAbsoluteUrl","url","startsWith","apiBase","process","env","VITE_API_BASE_URL","baseUrl","replace","includes","exports","getInitials","name","maxLength","split","map","n","join","toUpperCase","slice"],"sources":["imageUtils.js"],"sourcesContent":["/**\r\n * Mock implementation of imageUtils for Jest tests\r\n */\r\n\r\n/**\r\n * Ensures a URL is absolute by prepending the API base URL if needed\r\n * @param {string|null} url - The URL to process\r\n * @returns {string|null} - The absolute URL or null\r\n */\r\nexport const ensureAbsoluteUrl = (url) => {\r\n  if (!url) return null;\r\n  \r\n  // If already absolute, return as is\r\n  if (url.startsWith('http://') || url.startsWith('https://') || url.startsWith('blob:')) {\r\n    return url;\r\n  }\r\n  \r\n  // Get API base URL with fallback (using process.env for Jest)\r\n  const apiBase = process.env.VITE_API_BASE_URL || 'http://localhost:8000/api';\r\n  const baseUrl = apiBase.replace('/api', '');\r\n  \r\n  // If relative URL starting with /, prepend API base URL (without /api)\r\n  if (url.startsWith('/')) {\r\n    return baseUrl + url;\r\n  }\r\n  \r\n  // If it's a storage path without leading slash, prepend /storage/\r\n  if (!url.includes('://') && !url.startsWith('/')) {\r\n    return `${baseUrl}/storage/${url}`;\r\n  }\r\n  \r\n  return url;\r\n};\r\n\r\n/**\r\n * Gets the user's initials from their name\r\n * @param {string} name - The user's full name\r\n * @param {number} maxLength - Maximum number of initials to return\r\n * @returns {string} - The initials\r\n */\r\nexport const getInitials = (name, maxLength = 2) => {\r\n  if (!name) return 'U';\r\n  \r\n  return name\r\n    .split(' ')\r\n    .map(n => n[0])\r\n    .join('')\r\n    .toUpperCase()\r\n    .slice(0, maxLength);\r\n};\r\n\r\n"],"mappings":";;;;;;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACO,MAAMA,iBAAiB,GAAIC,GAAG,IAAK;EACxC,IAAI,CAACA,GAAG,EAAE,OAAO,IAAI;;EAErB;EACA,IAAIA,GAAG,CAACC,UAAU,CAAC,SAAS,CAAC,IAAID,GAAG,CAACC,UAAU,CAAC,UAAU,CAAC,IAAID,GAAG,CAACC,UAAU,CAAC,OAAO,CAAC,EAAE;IACtF,OAAOD,GAAG;EACZ;;EAEA;EACA,MAAME,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;EAC5E,MAAMC,OAAO,GAAGJ,OAAO,CAACK,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;;EAE3C;EACA,IAAIP,GAAG,CAACC,UAAU,CAAC,GAAG,CAAC,EAAE;IACvB,OAAOK,OAAO,GAAGN,GAAG;EACtB;;EAEA;EACA,IAAI,CAACA,GAAG,CAACQ,QAAQ,CAAC,KAAK,CAAC,IAAI,CAACR,GAAG,CAACC,UAAU,CAAC,GAAG,CAAC,EAAE;IAChD,OAAO,GAAGK,OAAO,YAAYN,GAAG,EAAE;EACpC;EAEA,OAAOA,GAAG;AACZ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AALAS,OAAA,CAAAV,iBAAA,GAAAA,iBAAA;AAMO,MAAMW,WAAW,GAAGA,CAACC,IAAI,EAAEC,SAAS,GAAG,CAAC,KAAK;EAClD,IAAI,CAACD,IAAI,EAAE,OAAO,GAAG;EAErB,OAAOA,IAAI,CACRE,KAAK,CAAC,GAAG,CAAC,CACVC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC,CACdC,IAAI,CAAC,EAAE,CAAC,CACRC,WAAW,CAAC,CAAC,CACbC,KAAK,CAAC,CAAC,EAAEN,SAAS,CAAC;AACxB,CAAC;AAACH,OAAA,CAAAC,WAAA,GAAAA,WAAA","ignoreList":[]}